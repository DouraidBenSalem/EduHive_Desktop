<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Label?>
<?import javafx.fxml.FXMLLoader?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ComboBox?>

<HBox xmlns="http://javafx.com/javafx/8.0.171"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="Controllers.MatiereListController"
      spacing="0" style="-fx-background-color:transparent;">
    <children>
        <!-- Navbar à gauche -->
        <fx:include source="navBar.fxml"/>
        <!-- Contenu principal à droite -->
        <VBox spacing="10" style="-fx-padding: 20;">
            <children>
                <HBox alignment="CENTER_LEFT" spacing="20">
                    <children>
                        <Label text="Liste des Matières" style="-fx-font-size: 24px; -fx-text-fill: #58c7fa;"/>
                        <Button fx:id="btnAddMatiere" text="Ajouter une matière"
                                style="-fx-background-color: #58c7fa; -fx-text-fill: white; -fx-font-weight: bold;"/>
                    </children>
                </HBox>
                <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 0 0 10 0;">
                    <children>
                        <!-- Icône recherche Unicode -->
                        <Label text="🔍" style="-fx-font-size: 20px; -fx-text-fill: #58c7fa;"/>
                        <!-- Le ComboBox sera ajouté dynamiquement par le contrôleur juste après l'icône -->
                        <TextField fx:id="searchField" promptText="Rechercher une matière, un module, un enseignant..."
                            style="-fx-background-radius: 18; -fx-border-radius: 18; -fx-background-color: #f7fbff; -fx-border-color: #b0d0ff; -fx-border-width: 1.2; -fx-font-size: 15px; -fx-padding: 8 18 8 10; -fx-pref-width: 320;"/>
                        <Button fx:id="btnClearSearch" text="✕"
                            style="-fx-background-radius: 18; -fx-background-color: #e3f0ff; -fx-text-fill: #58c7fa; -fx-font-size: 16px;"/>
                        <Button fx:id="btnExportMenu" style="-fx-background-radius: 18; -fx-background-color: #e3f0ff; -fx-padding: 6 18 6 18;">
                            <graphic>
                                <Label text="⭳" style="-fx-font-size: 20px; -fx-text-fill: #58c7fa;"/>
                            </graphic>
                            <tooltip>
                                <Tooltip text="Exporter la liste des matières"/>
                            </tooltip>
                        </Button>
                    </children>
                </HBox>
                <ListView fx:id="listMatiere" prefHeight="500" prefWidth="900" style="-fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #e0e0e0;" stylesheets="@../style_css/style.css" VBox.vgrow="ALWAYS">
                    <!-- Le ListView utilisera des cellules personnalisées définies dans le contrôleur -->
                </ListView>
            </children>
        </VBox>
    </children>
</HBox>